{% extends "myDatable/base.html" %}

{% block title %}Employee Records{% endblock title %}

{% block content %}
<div class="col-md-12">
    <h4>Django CRUD (Create Read Update Delete) Example - Bootstrap Datatable</h4>

    <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#addModal">
        <i class="fa-solid fa-user-plus"></i>
    </button>


    <div class="table-responsive">
        <table id="bootstrapdatatable" class="table table-striped table-bordered" width="100%">
            <thead>

                <th>ID</th>
                <th>Employee Name</th>
                <th>Employee Email</th>
                <th>Employee Contact</th>
                <th>Edit</th>
                <th>Delete</th>
            </thead>
            <tbody>
                {% for employee in employees %}
                <tr>

                    <td>{{ employee.id }}</td>
                    <td>{{ employee.name }}</td>
                    <td>{{ employee.email }}</td>
                    <td>{{ employee.contact }}</td>
                    <td>

                        <button type="button" class="btn btn-primary btn-sm" data-toggle="modal"
                            data-target="#editModal{{ employee.id }}">
                            <i class="fas fa-user-edit">Edit</i>
                        </button>
                    </td>
                    <td>
                        <p data-placement="top" data-toggle="tooltip" title="Delete"><a
                                href="{% url 'dt-delete' employee.id %}" class="btn btn-danger btn-xs"
                                data-title="Delete" data-toggle="modal" data-target="#delete"><i
                                    class="fa fa-trash"></i></a></p>
                    </td>
                </tr>

                {% include 'myDatable/edit.html' %}

                {% endfor %}
            </tbody>

        </table>
    </div>
</div>
{% include 'myDatable/add.html' %}

{% endblock content %}